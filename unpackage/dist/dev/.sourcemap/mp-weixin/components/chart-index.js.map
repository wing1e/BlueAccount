{"version":3,"file":"chart-index.js","sources":["components/chart-index.vue","../../../../Development/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovV29yay9Xb3JrU3BhY2UvTXlQcm9qZWN0L01vbmV5TG92ZXIvY29tcG9uZW50cy9jaGFydC1pbmRleC52dWU"],"sourcesContent":["<template>\n\t<view class=\"chart\">\n\t\t<canvas canvas-id=\"barChart\" class=\"barChart\"></canvas>\n\t</view>\n</template>\n\n<script setup>\nimport { getCurrentInstance, onMounted, ref } from 'vue';\nonMounted(()=>{\n\tinit()\n})\nconst init = ()=>{\r\n\tconst instance = getCurrentInstance()\r\n\tconst chartWhith = ref()\r\n\tconst chartHeight = ref()\r\n\t// 获取canvas的宽和高\r\n\tconst query = uni.createSelectorQuery().in(instance)\r\n\tquery.select('.barChart')\r\n\t.boundingClientRect((data)=>{\r\n\t\t// canvas的高 data.height 宽 data.width\r\n\t\tif(data){\r\n\t\t\tconsole.log(data.height,data.width);\r\n\t\t\tconst ctxW = data.width\r\n\t\t\tconst ctxH = data.height\r\n\t\t\t// 绘制图形\r\n\t\t\tconst ctx = uni.createCanvasContext('barChart',instance)\r\n\t\t\t// 上虚线\r\n\t\t\tctx.beginPath()\r\n\t\t\tctx.setLineDash([2,4]) //虚线样式 2px 的实线 3px 的空白\r\n\t\t\tctx.strokeStyle = '#E3E3E5'\r\n\t\t\tctx.lineWidth = 1\r\n\t\t\tctx.moveTo(0,20)\r\n\t\t\tctx.lineTo(ctxW,20)\r\n\t\t\t// 下虚线\r\n\t\t\tctx.moveTo(0,ctxH-50)\r\n\t\t\tctx.lineTo(ctxW,ctxH-50)\r\n\t\t\tctx.stroke()\r\n\t\t\t// 中实线\r\n\t\t\tctx.beginPath()\r\n\t\t\tctx.setLineDash([1,0]) \r\n\t\t\tctx.strokeStyle = '#E3E3E5'\r\n\t\t\tctx.lineWidth = 1\r\n\t\t\tctx.moveTo(0,(ctxH-50)/2+10)\r\n\t\t\tctx.lineTo(ctxW,(ctxH-50)/2+10)\r\n\t\t\tctx.stroke()\r\n\t\t\t// 底部标题\r\n\t\t\tconst space = ctxW/6 //标题间隔大小\r\n\t\t\t// 日期，对齐方式，坐标\r\n\t\t\tconst weekStrings = [\r\n\t\t\t\t{date:'00-00',textAlign:'left',x:0},\r\n\t\t\t\t{date:'00-00',textAlign:'center',x:space},\r\n\t\t\t\t{date:'00-00',textAlign:'center',x:2*space},\r\n\t\t\t\t{date:'00-00',textAlign:'center',x:3*space},\r\n\t\t\t\t{date:'00-00',textAlign:'center',x:4*space},\r\n\t\t\t\t{date:'00-00',textAlign:'center',x:5*space},\r\n\t\t\t\t{date:'00-00',textAlign:'right',x:ctxW},\r\n\t\t\t]\r\n\t\t\tctx.setFontSize(8)\r\n\t\t\tfor (let i = 0; i <7; i++) {\r\n\t\t\t\tconst {date,textAlign,x} = weekStrings[i]\r\n\t\t\t\tctx.setTextAlign(textAlign)\r\n\t\t\t\tctx.fillText(date,x,ctxH-10)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 绘制\r\n\t\t\tctx.draw();\r\n\t\t}\r\n\t})\r\n\t.exec()\r\n\t\n\t\n}\n</script>\n\n<style lang=\"scss\">\n\t.chart{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0rpx 6rpx 28rpx 0rpx rgba(0, 0, 0, 0.1);\n\t\tborder-radius: 30rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t.barChart{\n\t\t\twidth: 95%;\n\t\t\theight: 90%;\n\t\t}\n\t}\n</style>","import Component from 'D:/Work/WorkSpace/MyProject/MoneyLover/components/chart-index.vue'\nwx.createComponent(Component)"],"names":["onMounted","getCurrentInstance","ref","uni","Component"],"mappings":";;;;;AAQAA,kBAAAA,UAAU,MAAI;AACb,WAAM;AAAA,IACP,CAAC;AACD,UAAM,OAAO,MAAI;AAChB,YAAM,WAAWC,cAAAA,mBAAoB;AAClBC,wBAAK;AACJA,wBAAK;AAEzB,YAAM,QAAQC,cAAG,MAAC,oBAAmB,EAAG,GAAG,QAAQ;AACnD,YAAM,OAAO,WAAW,EACvB,mBAAmB,CAAC,SAAO;AAE3B,YAAG,MAAK;AACPA,8BAAA,MAAA,OAAA,oCAAY,KAAK,QAAO,KAAK,KAAK;AAClC,gBAAM,OAAO,KAAK;AAClB,gBAAM,OAAO,KAAK;AAElB,gBAAM,MAAMA,cAAG,MAAC,oBAAoB,YAAW,QAAQ;AAEvD,cAAI,UAAW;AACf,cAAI,YAAY,CAAC,GAAE,CAAC,CAAC;AACrB,cAAI,cAAc;AAClB,cAAI,YAAY;AAChB,cAAI,OAAO,GAAE,EAAE;AACf,cAAI,OAAO,MAAK,EAAE;AAElB,cAAI,OAAO,GAAE,OAAK,EAAE;AACpB,cAAI,OAAO,MAAK,OAAK,EAAE;AACvB,cAAI,OAAQ;AAEZ,cAAI,UAAW;AACf,cAAI,YAAY,CAAC,GAAE,CAAC,CAAC;AACrB,cAAI,cAAc;AAClB,cAAI,YAAY;AAChB,cAAI,OAAO,IAAG,OAAK,MAAI,IAAE,EAAE;AAC3B,cAAI,OAAO,OAAM,OAAK,MAAI,IAAE,EAAE;AAC9B,cAAI,OAAQ;AAEZ,gBAAM,QAAQ,OAAK;AAEnB,gBAAM,cAAc;AAAA,YACnB,EAAC,MAAK,SAAQ,WAAU,QAAO,GAAE,EAAC;AAAA,YAClC,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,MAAK;AAAA,YACxC,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,YAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,YAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,YAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,YAC1C,EAAC,MAAK,SAAQ,WAAU,SAAQ,GAAE,KAAI;AAAA,UACtC;AACD,cAAI,YAAY,CAAC;AACjB,mBAAS,IAAI,GAAG,IAAG,GAAG,KAAK;AAC1B,kBAAM,EAAC,MAAK,WAAU,EAAC,IAAI,YAAY,CAAC;AACxC,gBAAI,aAAa,SAAS;AAC1B,gBAAI,SAAS,MAAK,GAAE,OAAK,EAAE;AAAA,UAC3B;AAGD,cAAI,KAAI;AAAA,QACR;AAAA,MACH,CAAE,EACA,KAAM;AAAA,IAGR;;;;;;ACtEA,GAAG,gBAAgBC,SAAS;"}