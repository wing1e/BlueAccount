{"version":3,"file":"chartIndex.js","sources":["utils/chartIndex.js"],"sourcesContent":["\n// 绘制图表\nexport const init = (instance)=>{\n\t// 获取canvas的宽和高\n\tconst query = uni.createSelectorQuery().in(instance)\n\tquery.select('.barChart')\n\t.boundingClientRect((data)=>{\n\t\tif(data){\n\t\t\tconst ctxW = data.width //canvas的宽\n\t\t\tconst ctxH = data.height //canvas的高\n\t\t\t// 绘制图形\n\t\t\tconst ctx = uni.createCanvasContext('barChart',instance)\n\t\t\t// 上实线\n\t\t\tctx.beginPath()\n\t\t\tctx.strokeStyle = '#E3E3E5'\n\t\t\tctx.lineWidth = 1\n\t\t\tctx.moveTo(0,30)\n\t\t\tctx.lineTo(ctxW,30)\n\t\t\t// 下实线\n\t\t\tctx.moveTo(0,ctxH-50)\n\t\t\tctx.lineTo(ctxW,ctxH-50)\n\t\t\tctx.stroke()\n\t\t\t// 中虚线\n\t\t\tctx.beginPath()\n\t\t\tctx.setLineDash([2,4]) //虚线样式 2px 的实线 3px 的空白\n\t\t\tctx.strokeStyle = '#E3E3E5'\n\t\t\tctx.lineWidth = 1\n\t\t\tctx.moveTo(0,(ctxH-50)/2+15)\n\t\t\tctx.lineTo(ctxW,(ctxH-50)/2+15)\n\t\t\tctx.stroke()\n\t\t\t// 底部标题\n\t\t\tconst space = ctxW/6 //标题间隔大小\n\t\t\t// 日期，对齐方式，坐标\n\t\t\tconst weekStrings = [\n\t\t\t\t{date:'00-00',textAlign:'left',x:0},\n\t\t\t\t{date:'00-00',textAlign:'center',x:space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:2*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:3*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:4*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:5*space},\n\t\t\t\t{date:'00-00',textAlign:'right',x:ctxW},\n\t\t\t]\n\t\t\tctx.setFontSize(8)\n\t\t\t// 循环生成一周的日期\n\t\t\tfor (let i = 0; i <7; i++) {\n\t\t\t\tconst {date,textAlign,x} = weekStrings[i]\n\t\t\t\tctx.setTextAlign(textAlign)\n\t\t\t\tctx.fillText(date,x,ctxH-10)\n\t\t\t}\n\t\t\t\n\t\t\t// 绘制\n\t\t\tctx.draw();\n\t\t}\n\t})\n\t.exec()\n}"],"names":["uni"],"mappings":";;AAEY,MAAC,OAAO,CAAC,aAAW;AAE/B,QAAM,QAAQA,cAAG,MAAC,oBAAmB,EAAG,GAAG,QAAQ;AACnD,QAAM,OAAO,WAAW,EACvB,mBAAmB,CAAC,SAAO;AAC3B,QAAG,MAAK;AACP,YAAM,OAAO,KAAK;AAClB,YAAM,OAAO,KAAK;AAElB,YAAM,MAAMA,cAAG,MAAC,oBAAoB,YAAW,QAAQ;AAEvD,UAAI,UAAW;AACf,UAAI,cAAc;AAClB,UAAI,YAAY;AAChB,UAAI,OAAO,GAAE,EAAE;AACf,UAAI,OAAO,MAAK,EAAE;AAElB,UAAI,OAAO,GAAE,OAAK,EAAE;AACpB,UAAI,OAAO,MAAK,OAAK,EAAE;AACvB,UAAI,OAAQ;AAEZ,UAAI,UAAW;AACf,UAAI,YAAY,CAAC,GAAE,CAAC,CAAC;AACrB,UAAI,cAAc;AAClB,UAAI,YAAY;AAChB,UAAI,OAAO,IAAG,OAAK,MAAI,IAAE,EAAE;AAC3B,UAAI,OAAO,OAAM,OAAK,MAAI,IAAE,EAAE;AAC9B,UAAI,OAAQ;AAEZ,YAAM,QAAQ,OAAK;AAEnB,YAAM,cAAc;AAAA,QACnB,EAAC,MAAK,SAAQ,WAAU,QAAO,GAAE,EAAC;AAAA,QAClC,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,MAAK;AAAA,QACxC,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,QAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,QAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,QAC1C,EAAC,MAAK,SAAQ,WAAU,UAAS,GAAE,IAAE,MAAK;AAAA,QAC1C,EAAC,MAAK,SAAQ,WAAU,SAAQ,GAAE,KAAI;AAAA,MACtC;AACD,UAAI,YAAY,CAAC;AAEjB,eAAS,IAAI,GAAG,IAAG,GAAG,KAAK;AAC1B,cAAM,EAAC,MAAK,WAAU,EAAC,IAAI,YAAY,CAAC;AACxC,YAAI,aAAa,SAAS;AAC1B,YAAI,SAAS,MAAK,GAAE,OAAK,EAAE;AAAA,MAC3B;AAGD,UAAI,KAAI;AAAA,IACR;AAAA,EACH,CAAE,EACA,KAAM;AACR;;"}