{"version":3,"names":["userInfoStore","common_vendor","defineStore","state","datalist","getters","completionDate","startDateStr","date","endDateStr","utils_nowDate","getNowDate","currentDate","parseLocalDate","endDate","dateArr","toLocaleDateString","split","join","formatDate","getFullYear","String","getMonth","padStart","getDate","push","setDate","index","__f__","getLastData","length","actions","getTotalDay","targetDate","dayData","find","d","income","expense","records","reduce","acc","record","type","amount","getTotalWeek","Date","weekStart","getDay","weekEnd","day","dayDate","forEach","getTotalMon","month","startsWith","getTotalYear","year","getCategoryPercentages","startDate","start","end","filteredData","filter","categoryIncome","categoryExpense","totalIncome","totalExpense","category","categoryIncomePercentages","categoryExpensePercentages","toFixed"],"sources":["userinfo.js"],"sourcesContent":["import {\r\n\tdefineStore\r\n} from \"pinia\";\r\nimport {getNowDate} from '../utils/now-date.js'\r\nimport { date } from \"../uni_modules/uview-plus/libs/function/test.js\";\r\nexport const userInfoStore = defineStore('userInfo', {\r\n\tstate: () => {\r\n\t\treturn {\r\n\t\t\tdatalist: [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-15\",\r\n\t\t\t\t\t\"weekday\": \"周三\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"08:15:00\",\r\n\t\t\t\t\t\t\t\"type\": \"income\",\r\n\t\t\t\t\t\t\t\"category\": \"工资\",\r\n\t\t\t\t\t\t\t\"amount\": 23580.00,\r\n\t\t\t\t\t\t\t\"payment\": \"银行转账\",\r\n\t\t\t\t\t\t\t\"note\": \"三月工资到账\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"12:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 38.50,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"午餐-麦当劳套餐\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"19:45:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"服装\",\r\n\t\t\t\t\t\t\t\"amount\": 299.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"优衣库春季衬衫\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-16\",\r\n\t\t\t\t\t\"weekday\": \"周四\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"09:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 8.50,\r\n\t\t\t\t\t\t\t\"payment\": \"校园卡\",\r\n\t\t\t\t\t\t\t\"note\": \"食堂早餐\",\r\n\t\t\t\t\t\t\t\"status\": \"pending\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"17:20:00\",\r\n\t\t\t\t\t\t\t\"type\": \"income\",\r\n\t\t\t\t\t\t\t\"category\": \"兼职\",\r\n\t\t\t\t\t\t\t\"amount\": 1500.00,\r\n\t\t\t\t\t\t\t\"payment\": \"现金\",\r\n\t\t\t\t\t\t\t\"note\": \"家教课时费\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-17\",\r\n\t\t\t\t\t\"weekday\": \"周五\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"10:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"交通\",\r\n\t\t\t\t\t\t\t\"amount\": 150.00,\r\n\t\t\t\t\t\t\t\"payment\": \"滴滴出行-企业账户\",\r\n\t\t\t\t\t\t\t\"note\": \"机场快车\",\r\n\t\t\t\t\t\t\t\"status\": \"refunded\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"22:15:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"娱乐\",\r\n\t\t\t\t\t\t\t\"amount\": 89.00,\r\n\t\t\t\t\t\t\t\"payment\": \"美团-信用支付\",\r\n\t\t\t\t\t\t\t\"note\": \"深夜电影院\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-18\",\r\n\t\t\t\t\t\"weekday\": \"周六\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"11:20:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"购物\",\r\n\t\t\t\t\t\t\t\"amount\": 450.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-花呗\",\r\n\t\t\t\t\t\t\t\"note\": \"超市购物\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"15:45:00\",\r\n\t\t\t\t\t\t\t\"type\": \"income\",\r\n\t\t\t\t\t\t\t\"category\": \"奖金\",\r\n\t\t\t\t\t\t\t\"amount\": 5000.00,\r\n\t\t\t\t\t\t\t\"payment\": \"银行转账\",\r\n\t\t\t\t\t\t\t\"note\": \"季度奖金\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-19\",\r\n\t\t\t\t\t\"weekday\": \"周日\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"09:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 25.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"早餐-豆浆油条\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"18:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"娱乐\",\r\n\t\t\t\t\t\t\t\"amount\": 120.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"KTV聚会\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-20\",\r\n\t\t\t\t\t\"weekday\": \"周一\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"08:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"交通\",\r\n\t\t\t\t\t\t\t\"amount\": 6.00,\r\n\t\t\t\t\t\t\t\"payment\": \"公交卡\",\r\n\t\t\t\t\t\t\t\"note\": \"公交上班\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"12:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 20.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"午餐-快餐\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-21\",\r\n\t\t\t\t\t\"weekday\": \"周二\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"10:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"医疗\",\r\n\t\t\t\t\t\t\t\"amount\": 200.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"药店购药\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"19:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"教育\",\r\n\t\t\t\t\t\t\t\"amount\": 300.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"购买在线课程\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-22\",\r\n\t\t\t\t\t\"weekday\": \"周三\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"07:50:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"交通\",\r\n\t\t\t\t\t\t\t\"amount\": 10.00,\r\n\t\t\t\t\t\t\t\"payment\": \"滴滴出行-个人账户\",\r\n\t\t\t\t\t\t\t\"note\": \"打车上班\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"13:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 35.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"午餐-外卖\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-23\",\r\n\t\t\t\t\t\"weekday\": \"周四\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"09:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"income\",\r\n\t\t\t\t\t\t\t\"category\": \"理财\",\r\n\t\t\t\t\t\t\t\"amount\": 1500.00,\r\n\t\t\t\t\t\t\t\"payment\": \"银行转账\",\r\n\t\t\t\t\t\t\t\"note\": \"理财产品收益\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"20:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"娱乐\",\r\n\t\t\t\t\t\t\t\"amount\": 80.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"电影票\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-24\",\r\n\t\t\t\t\t\"weekday\": \"周五\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"08:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 15.00,\r\n\t\t\t\t\t\t\t\"payment\": \"校园卡\",\r\n\t\t\t\t\t\t\t\"note\": \"食堂早餐\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"18:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"购物\",\r\n\t\t\t\t\t\t\t\"amount\": 600.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-花呗\",\r\n\t\t\t\t\t\t\t\"note\": \"购买电子产品\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-25\",\r\n\t\t\t\t\t\"weekday\": \"周六\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"12:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 50.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"朋友聚餐\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"16:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"income\",\r\n\t\t\t\t\t\t\t\"category\": \"兼职\",\r\n\t\t\t\t\t\t\t\"amount\": 800.00,\r\n\t\t\t\t\t\t\t\"payment\": \"现金\",\r\n\t\t\t\t\t\t\t\"note\": \"周末兼职收入\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-26\",\r\n\t\t\t\t\t\"weekday\": \"周日\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"10:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"旅行\",\r\n\t\t\t\t\t\t\t\"amount\": 1200.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"周末短途旅行\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"21:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"娱乐\",\r\n\t\t\t\t\t\t\t\"amount\": 100.00,\r\n\t\t\t\t\t\t\t\"payment\": \"微信支付-零钱\",\r\n\t\t\t\t\t\t\t\"note\": \"酒吧消费\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"date\": \"2023-03-27\",\r\n\t\t\t\t\t\"weekday\": \"周一\",\r\n\t\t\t\t\t\"records\": [{\r\n\t\t\t\t\t\t\t\"time\": \"08:00:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"交通\",\r\n\t\t\t\t\t\t\t\"amount\": 8.00,\r\n\t\t\t\t\t\t\t\"payment\": \"公交卡\",\r\n\t\t\t\t\t\t\t\"note\": \"公交上班\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"time\": \"12:30:00\",\r\n\t\t\t\t\t\t\t\"type\": \"expense\",\r\n\t\t\t\t\t\t\t\"category\": \"餐饮\",\r\n\t\t\t\t\t\t\t\"amount\": 30.00,\r\n\t\t\t\t\t\t\t\"payment\": \"支付宝-余额\",\r\n\t\t\t\t\t\t\t\"note\": \"午餐-外卖\",\r\n\t\t\t\t\t\t\t\"status\": \"completed\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\tgetters:{\r\n\t\tcompletionDate(){\r\n\t\t\tconst startDateStr = this.datalist[0].date\r\n\t\t\tconst endDateStr = getNowDate().date\r\n\t\t\tlet currentDate = parseLocalDate(startDateStr);\r\n\t\t\tconst endDate = parseLocalDate(endDateStr);\r\n\t\t\tconst dateArr = []\r\n\t\t\twhile(currentDate.toLocaleDateString().split('/').join('-')<=endDate){\r\n\t\t\t\tconst formatDate = [\r\n\t\t\t\t\tcurrentDate.getFullYear(),\r\n\t\t\t\t\tString(currentDate.getMonth()+1).padStart(2,'0'),\r\n\t\t\t\t\tString(currentDate.getDate()).padStart(2,'0')\r\n\t\t\t\t]\r\n\t\t\t\tdateArr.push(formatDate.join('-'))\r\n\t\t\t\t\r\n\t\t\t\tcurrentDate.setDate(currentDate.getDate()+1)\r\n\t\t\t}\r\n\t\t\tconsole.log(dateArr);\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t// 获取最后一天的信息\r\n\t\tgetLastData(){\r\n\t\t\treturn this.datalist[this.datalist.length-1]\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\t// 获取单日统计\r\n\t\tgetTotalDay(targetDate) {\r\n\t\t\t// 判断日期是否存在\r\n\t\t\tconst dayData = this.datalist.find(d => d.date === targetDate);\r\n\t\t\tif (!dayData) return {\r\n\t\t\t\tincome: 0,\r\n\t\t\t\texpense: 0\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\treturn dayData.records.reduce((acc, record) => {\r\n\t\t\t\trecord.type === 'income' \r\n\t\t\t\t  ? acc.income += record.amount\r\n\t\t\t\t  : acc.expense += record.amount;\r\n\t\t\t\treturn acc;\r\n\t\t\t}, {\r\n\t\t\t\tincome: 0,\r\n\t\t\t\texpense: 0\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 获取周统计\r\n\t\t getTotalWeek(targetDate) {\r\n\t\t      const date = new Date(targetDate);\r\n\t\t\t  // 计算周一的日期 (目标的日期-星期几+(如果是周日？-6:+1))\r\n\t\t      const weekStart = new Date(date.setDate(date.getDate() - date.getDay() + (date.getDay() === 0 ? -6 : 1)));\r\n\t\t      const weekEnd = new Date(weekStart);\r\n\t\t      weekEnd.setDate(weekStart.getDate() + 6);\r\n\t\t\r\n\t\t      return this.datalist.reduce((acc, day) => {\r\n\t\t        const dayDate = new Date(day.date);\r\n\t\t\t\t// 截取目标周内的日期的数据\r\n\t\t        if (dayDate >= weekStart && dayDate <= weekEnd) {\r\n\t\t          day.records.forEach(record => {\r\n\t\t            record.type === 'income' \r\n\t\t              ? acc.income += record.amount \r\n\t\t              : acc.expense += record.amount;\r\n\t\t          });\r\n\t\t        }\r\n\t\t        return acc;\r\n\t\t      }, { income: 0, expense: 0 });\r\n\t\t    },\r\n\t\t\t\r\n\t\t// 获取月统计 e.g ('2025-3')\r\n\t\t getTotalMon(month) {\r\n\t\t      return this.datalist.reduce((acc, day) => {\r\n\t\t        if (day.date.startsWith(month)) {\r\n\t\t          day.records.forEach(record => {\r\n\t\t            record.type === 'income' \r\n\t\t              ? acc.income += record.amount \r\n\t\t              : acc.expense += record.amount;\r\n\t\t          });\r\n\t\t        }\r\n\t\t        return acc;\r\n\t\t      }, { income: 0, expense: 0 });\r\n\t\t    },\r\n\t\t\t\r\n\t\t// 获取年统计 e.g ('2025')\r\n\t\t getTotalYear(year) {\r\n\t\t      return this.datalist.reduce((acc, day) => {\r\n\t\t        if (day.date.startsWith(year)) {\r\n\t\t          day.records.forEach(record => {\r\n\t\t            record.type === 'income' \r\n\t\t              ? acc.income += record.amount \r\n\t\t              : acc.expense += record.amount;\r\n\t\t          });\r\n\t\t        }\r\n\t\t        return acc;\r\n\t\t      }, { income: 0, expense: 0 });\r\n\t\t},\r\n\t\t\r\n\t\t// 分类统计\r\n\t\tgetCategoryPercentages(startDate,endDate){\r\n\t\t\tconst start = new Date(startDate);\r\n\t\t\tconst end = new Date(endDate);\r\n\t\t\t// 过滤目标日期的数据\r\n\t\t\tconst filteredData = this.datalist.filter(day => {\r\n\t\t\t\tconst date = new Date(day.date);\r\n\t\t\t\treturn date >= start && date <= end;\r\n\t\t\t});\r\n\r\n\t\t\tconst categoryIncome = {};\r\n\t\t\tconst categoryExpense = {};\r\n\t\t\tlet totalIncome = 0;\r\n\t\t\tlet totalExpense = 0;\r\n\r\n\t\t\t  // 遍历筛选后的数据\r\n\t\t\t  filteredData.forEach(day => {\r\n\t\t\t\tday.records.forEach(record => {\r\n\t\t\t\t\tif (record.type === 'income') {\r\n\t\t\t\t\t\t// 累加收入\r\n\t\t\t\t\t\ttotalIncome += record.amount;\r\n\t\t\t\t\t\tif (!categoryIncome[record.category]) {\r\n\t\t\t\t\t\t\tcategoryIncome[record.category] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcategoryIncome[record.category] += record.amount;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 累加支出\r\n\t\t\t\t\t\ttotalExpense += record.amount;\r\n\t\t\t\t\t\tif (!categoryExpense[record.category]) {\r\n\t\t\t\t\t\t\tcategoryExpense[record.category] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcategoryExpense[record.category] += record.amount;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 计算百分比\r\n\t\t\tconst categoryIncomePercentages = {};\r\n\t\t\tconst categoryExpensePercentages = {};\r\n\t\t\tfor (const category in categoryIncome) {\r\n\t\t\t\tcategoryIncomePercentages[category] = ((categoryIncome[category] / totalIncome) * 100).toFixed(2);\r\n\t\t\r\n\t\t\t}\r\n\t\t\tfor (const category in categoryExpense) {\r\n\t\t\t\tcategoryExpensePercentages[category] = ((categoryExpense[category] / totalExpense) * 100).toFixed(2);\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tincome: categoryIncomePercentages,\r\n\t\t\t\texpense: categoryExpensePercentages\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n})"],"mappings":"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","ignoreList":[]}