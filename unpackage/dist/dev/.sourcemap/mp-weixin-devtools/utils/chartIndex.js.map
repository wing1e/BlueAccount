{"version":3,"names":["init","instance","ref","query","common_vendor","index","createSelectorQuery","in","select","boundingClientRect","data","ctxW","width","ctxH","height","ctx","createCanvasContext","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","setLineDash","space","weekStrings","date","textAlign","x","setFontSize","i","_weekStrings$i","setTextAlign","fillText","draw","exec"],"sources":["chartIndex.js"],"sourcesContent":["// 绘制图表\nexport const init = (instance)=>{\n\t\n\tconst chartWhith = ref()\n\tconst chartHeight = ref()\n\t// 获取canvas的宽和高\n\tconst query = uni.createSelectorQuery().in(instance)\n\tquery.select('.barChart')\n\t.boundingClientRect((data)=>{\n\t\tif(data){\n\t\t\tconst ctxW = data.width //canvas的宽\n\t\t\tconst ctxH = data.height //canvas的高\n\t\t\t// 绘制图形\n\t\t\tconst ctx = uni.createCanvasContext('barChart',instance)\n\t\t\t// 上实线\n\t\t\tctx.beginPath()\n\t\t\tctx.strokeStyle = '#E3E3E5'\n\t\t\tctx.lineWidth = 1\n\t\t\tctx.moveTo(0,30)\n\t\t\tctx.lineTo(ctxW,30)\n\t\t\t// 下实线\n\t\t\tctx.moveTo(0,ctxH-50)\n\t\t\tctx.lineTo(ctxW,ctxH-50)\n\t\t\tctx.stroke()\n\t\t\t// 中虚线\n\t\t\tctx.beginPath()\n\t\t\tctx.setLineDash([2,4]) //虚线样式 2px 的实线 3px 的空白\n\t\t\tctx.strokeStyle = '#E3E3E5'\n\t\t\tctx.lineWidth = 1\n\t\t\tctx.moveTo(0,(ctxH-50)/2+15)\n\t\t\tctx.lineTo(ctxW,(ctxH-50)/2+15)\n\t\t\tctx.stroke()\n\t\t\t// 底部标题\n\t\t\tconst space = ctxW/6 //标题间隔大小\n\t\t\t// 日期，对齐方式，坐标\n\t\t\tconst weekStrings = [\n\t\t\t\t{date:'00-00',textAlign:'left',x:0},\n\t\t\t\t{date:'00-00',textAlign:'center',x:space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:2*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:3*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:4*space},\n\t\t\t\t{date:'00-00',textAlign:'center',x:5*space},\n\t\t\t\t{date:'00-00',textAlign:'right',x:ctxW},\n\t\t\t]\n\t\t\tctx.setFontSize(8)\n\t\t\t// 循环生成一周的日期\n\t\t\tfor (let i = 0; i <7; i++) {\n\t\t\t\tconst {date,textAlign,x} = weekStrings[i]\n\t\t\t\tctx.setTextAlign(textAlign)\n\t\t\t\tctx.fillText(date,x,ctxH-10)\n\t\t\t}\n\t\t\t\n\t\t\t// 绘制\n\t\t\tctx.draw();\n\t\t}\n\t})\n\t.exec()\n}"],"mappings":";;;;AACY,IAACA,IAAA,GAAO,SAAPA,KAAQC,QAAA,EAAW;EAEZC,GAAA,EAAK;EACJA,GAAA,EAAK;EAEzB,IAAMC,KAAA,GAAQC,aAAA,CAAGC,KAAA,CAACC,mBAAA,EAAmB,CAAGC,EAAA,CAAGN,QAAQ;EACnDE,KAAA,CAAMK,MAAA,CAAO,WAAW,EACvBC,kBAAA,CAAmB,UAACC,IAAA,EAAO;IAC3B,IAAGA,IAAA,EAAK;MACP,IAAMC,IAAA,GAAOD,IAAA,CAAKE,KAAA;MAClB,IAAMC,IAAA,GAAOH,IAAA,CAAKI,MAAA;MAElB,IAAMC,GAAA,GAAMX,aAAA,CAAGC,KAAA,CAACW,mBAAA,CAAoB,YAAWf,QAAQ;MAEvDc,GAAA,CAAIE,SAAA,EAAW;MACfF,GAAA,CAAIG,WAAA,GAAc;MAClBH,GAAA,CAAII,SAAA,GAAY;MAChBJ,GAAA,CAAIK,MAAA,CAAO,GAAE,EAAE;MACfL,GAAA,CAAIM,MAAA,CAAOV,IAAA,EAAK,EAAE;MAElBI,GAAA,CAAIK,MAAA,CAAO,GAAEP,IAAA,GAAK,EAAE;MACpBE,GAAA,CAAIM,MAAA,CAAOV,IAAA,EAAKE,IAAA,GAAK,EAAE;MACvBE,GAAA,CAAIO,MAAA,EAAQ;MAEZP,GAAA,CAAIE,SAAA,EAAW;MACfF,GAAA,CAAIQ,WAAA,CAAY,CAAC,GAAE,CAAC,CAAC;MACrBR,GAAA,CAAIG,WAAA,GAAc;MAClBH,GAAA,CAAII,SAAA,GAAY;MAChBJ,GAAA,CAAIK,MAAA,CAAO,IAAGP,IAAA,GAAK,MAAI,IAAE,EAAE;MAC3BE,GAAA,CAAIM,MAAA,CAAOV,IAAA,GAAME,IAAA,GAAK,MAAI,IAAE,EAAE;MAC9BE,GAAA,CAAIO,MAAA,EAAQ;MAEZ,IAAME,KAAA,GAAQb,IAAA,GAAK;MAEnB,IAAMc,WAAA,GAAc,CACnB;QAACC,IAAA,EAAK;QAAQC,SAAA,EAAU;QAAOC,CAAA,EAAE;MAAC,GAClC;QAACF,IAAA,EAAK;QAAQC,SAAA,EAAU;QAASC,CAAA,EAAEJ;MAAK,GACxC;QAACE,IAAA,EAAK;QAAQC,SAAA,EAAU;QAASC,CAAA,EAAE,IAAEJ;MAAK,GAC1C;QAACE,IAAA,EAAK;QAAQC,SAAA,EAAU;QAASC,CAAA,EAAE,IAAEJ;MAAK,GAC1C;QAACE,IAAA,EAAK;QAAQC,SAAA,EAAU;QAASC,CAAA,EAAE,IAAEJ;MAAK,GAC1C;QAACE,IAAA,EAAK;QAAQC,SAAA,EAAU;QAASC,CAAA,EAAE,IAAEJ;MAAK,GAC1C;QAACE,IAAA,EAAK;QAAQC,SAAA,EAAU;QAAQC,CAAA,EAAEjB;MAAI,EACtC;MACDI,GAAA,CAAIc,WAAA,CAAY,CAAC;MAEjB,SAASC,CAAA,GAAI,GAAGA,CAAA,GAAG,GAAGA,CAAA,IAAK;QAC1B,IAAAC,cAAA,GAA2BN,WAAA,CAAYK,CAAC;UAAjCJ,IAAA,GAAAK,cAAA,CAAAL,IAAA;UAAKC,SAAA,GAAAI,cAAA,CAAAJ,SAAA;UAAUC,CAAA,GAAAG,cAAA,CAAAH,CAAA;QACtBb,GAAA,CAAIiB,YAAA,CAAaL,SAAS;QAC1BZ,GAAA,CAAIkB,QAAA,CAASP,IAAA,EAAKE,CAAA,EAAEf,IAAA,GAAK,EAAE;MAC3B;MAGDE,GAAA,CAAImB,IAAA,EAAI;IACR;EACH,CAAE,EACAC,IAAA,EAAM;AACR","ignoreList":[]}